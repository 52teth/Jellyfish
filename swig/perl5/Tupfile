include_rules

export PKG_CONFIG_PATH
SWIGFLAGS = -perl5
CXXFLAGS += $(JELLYFISH_CFLAGS) $(PERL_CFLAGS) -fPIC
LDFLAGS += -shared $(JELLYFISH_LIBS) $(JELLYFISH_RPATH) $(PERL_LIBS)

: ../jellyfish.i |> !swigxx |> jellyfish_wrap.cxx | jellyfish.pm <jf>
: jellyfish_wrap.cxx |> !cxx |>
: jellyfish_wrap.o |> !lxxd |> jellyfish.so <jf>

TESTS = test_mer_file.pl test_hash_counter.pl

: foreach $(TESTS) | <jf> ../tests/<seq> |> perl -I. %f ../tests > %o |> %B
